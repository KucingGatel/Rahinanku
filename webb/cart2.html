<Script>
  const url = new URL(window.location.href);

const idProduk = url.searchParams.get("id_produk");

if (idProduk != null) {
  // console.log("ID Produk:", idProduk);  
  // console.log(JSON.parse(localStorage.getItem('userData')).account_id);
  // Data yang akan dikirim ke API
const requestData = {
    id_user: JSON.parse(localStorage.getItem('userData')).account_id, // Ganti dengan ID user sesuai kebutuhan
    id_produk: idProduk // Ganti dengan ID produk sesuai kebutuhan
};
const userData = JSON.parse(localStorage.getItem('userData'));
if (!userData || !userData.account_id) {
    alert('User tidak ditemukan, silakan login terlebih dahulu.');
    window.location.href = 'login.html';
}

// Fungsi untuk memanggil API
async function addCart() {
    try {
        const response = await fetch("http://localhost:3000/api/user/Add_Cart", {
            method: "POST", // Metode POST sesuai dengan API Anda
            headers: {
                "Content-Type": "application/json", // Header untuk JSON
            },
            body: JSON.stringify(requestData), // Konversi data menjadi JSON
        });

        if (response.ok) {
            const result = await response.json(); // Parsing respons JSON
            // console.log("Response:", result);
            // Ambil URL saat ini
const url = new URL(window.location.href);

// Hapus query string
url.search = "";

// Perbarui URL di browser tanpa reload halaman
window.history.pushState({}, "", url);

console.log("URL setelah query string dihapus:", url.href);

        } else {
            console.error("Error:", response.status, await response.json());
        }
    } catch (error) {
        console.error("Fetch Error:", error);
    }
}

// Panggil fungsi untuk memanggil API
addCart();

}

</Script>
<!doctype html>
<html class="no-js" lang="zxx">
    <head>
        <!-- Meta Tags -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="keywords" content="Site keywords here">
		<meta name="description" content="">
		<meta name='copyright' content=''>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<!-- Title -->
        <title>Rahinanku</title>
		
		<!-- Favicon -->
        <link rel="icon" href="img/favicon.png">
		
		<!-- Google Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Poppins:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<!-- Nice Select CSS -->
		<link rel="stylesheet" href="css/nice-select.css">
		<!-- Font Awesome CSS -->
        <link rel="stylesheet" href="css/font-awesome.min.css">
		<!-- icofont CSS -->
        <link rel="stylesheet" href="css/icofont.css">
		<!-- Slicknav -->
		<link rel="stylesheet" href="css/slicknav.min.css">
		<!-- Owl Carousel CSS -->
        <link rel="stylesheet" href="css/owl-carousel.css">
		<!-- Datepicker CSS -->
		<link rel="stylesheet" href="css/datepicker.css">
		<!-- Animate CSS -->
        <link rel="stylesheet" href="css/animate.min.css">
		<!-- Magnific Popup CSS -->
        <link rel="stylesheet" href="css/magnific-popup.css">
		
		<!-- Medipro CSS -->
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="css/responsive.css">
		
    </head>
    <body>
		<!-- Preloader -->
    <div class="preloader">
      <div class="loader">
          <div class="loader-outter"></div>
          <div class="loader-inner"></div>

          <div class="indicator"> 
            <img src="img/favicon.png">
          </div>
      </div>
  </div>
        <!-- End Preloader -->
				<script>
          const script = document.createElement('script'); // Membuat elemen <script> baru
          
          if (userData && userData.account_id != null) {
            script.src = "js/headerfooterLogin.js";
            console.log("kontol")
          } else {
            script.src = "js/headerfooterManage.js";
          }
          
          document.head.appendChild(script); // Menyisipkan script ke dalam <head>
        </script>
		<my-header></my-header>

        <style>
        .cart {
  background-color: #ffffff;
  display: flex;
  flex-direction: row;
  justify-content: center;
  width: 100%;
}

.cart .frame-wrapper {
  background-color: var(--bg);
  width: 1440px;
  height: 1024px;
}

.cart .frame {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 80px;
  position: relative;
  top: 92px;
  left: 135px;
}

.cart .div {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 24px;
  position: relative;
  flex: 0 0 auto;
}

.cart .frame-2 {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 40px;
  position: relative;
  flex: 0 0 auto;
}

.cart .cart-main-section {
  position: relative;
  width: 1170px;
  height: 72px;
  background-color: #ffffff;
  border-radius: 4px;
  border-style: solid;
  overflow: hidden;
  box-shadow: var(--categogy-5);
}

.cart .frame-3 {
  display: inline-flex;
  align-items: center;
  gap: 284px;
  position: relative;
  top: 24px;
  left: 40px;
}

.cart .text-wrapper {
  position: relative;
  width: fit-content;
  margin-top: -1.00px;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: var(--text-2);
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}



.cart .cart-section {
  position: relative;
  width: 1170px;
  height: 102px;
  background-color: #ffffff;
  border-radius: 4px;
  border-style: solid;
  overflow: hidden;
  box-shadow: var(--categogy-5);
}

.cart .element {
  left: 387px;
  position: absolute;
  top: 38px;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: var(--text-2);
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}

.cart .element-2 {
  left: 1063px;
  position: absolute;
  top: 38px;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: var(--text-2);
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}

.cart .quantity {
  position: absolute;
  width: 75px;
  height: 47px;
  top: 28px;
  left: 708px;
  border-radius: 4px;
  overflow: hidden;
  border: 1.5px solid;
  border-color: #00000066;
}

.cart .frame-4 {
  display: flex;
  width: 48px;
  align-items: center;
  gap: 16px;
  position: relative;
  top: 6px;
  left: 12px;
}

.cart .text-wrapper-2 {
  position: relative;
  width: fit-content;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: var(--button);
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}

.cart .frame-5 {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  flex: 0 0 auto;
}

.cart .img {
  position: relative;
  width: 16px;
  height: 16px;
}

.cart .overlap-group {
  position: absolute;
  width: 64px;
  height: 58px;
  top: 20px;
  left: 30px;
}

.cart .monitor-cart-small {
  position: absolute;
  width: 54px;
  height: 54px;
  top: 4px;
  left: 10px;
}

.cart .gcq-x {
  position: absolute;
  width: 50px;
  height: 39px;
  top: 8px;
  left: 2px;
}

.cart .icon-cancel {
  position: absolute;
  width: 24px;
  height: 24px;
  top: 0;
  left: 0;
}

.cart .LCD-monitor {
  position: absolute;
  top: 38px;
  left: 114px;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: #000000;
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}

.cart .frame-6 {
  display: flex;
  width: 48px;
  align-items: center;
  gap: 12px;
  position: relative;
  top: 6px;
  left: 12px;
}

.cart .gamepad-cart-small {
  position: absolute;
  width: 54px;
  height: 54px;
  top: 24px;
  left: 40px;
}

.cart .g-x {
  position: absolute;
  width: 49px;
  height: 42px;
  top: 6px;
  left: 3px;
}

.cart .frame-7 {
  display: inline-flex;
  align-items: flex-start;
  gap: 757px;
  position: relative;
  flex: 0 0 auto;
}

.cart .frame-77 {
  display: inline-flex;
  align-items: flex-start;
  gap: 757px;
  top: -70px;
  left: 1035px;
  position: relative;
  flex: 0 0 auto;
}

.cart .frame-88 {
  display: inline-flex;
  align-items: flex-start;
  gap: 757px;
  top: 250px;
  left: 135px;
  position: relative;
  flex: 0 0 auto;
}

.cart .button {
  all: unset;
  box-sizing: border-box;
  position: relative;
  flex: 0 0 auto;
  border: 1px solid;
  border-color: #00000080;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 48px;
  border-radius: 4px;
}

.cart .view-all-products {
  position: relative;
  width: fit-content;
  margin-top: -1.00px;
  font-family: var(--title-16px-medium-font-family);
  font-weight: var(--title-16px-medium-font-weight);
  color: var(--text-2);
  font-size: var(--title-16px-medium-font-size);
  letter-spacing: var(--title-16px-medium-letter-spacing);
  line-height: var(--title-16px-medium-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-medium-font-style);
}

.cart .frame-8 {
  display: inline-flex;
  align-items: flex-start;
  gap: 173px;
  position: relative;
  flex: 0 0 auto;
}

.cart .frame-9 {
  display: inline-flex;
  align-items: flex-end;
  gap: 16px;
  position: relative;
  flex: 0 0 auto;
  top: -120px;
}

.cart .div-wrapper {
  position: relative;
  width: 300px;
  height: 56px;
  border-radius: 4px;
  overflow: hidden;
  border: 1px solid;
  border-color: #000000;
}

.cart .text-wrapper-3 {
  position: absolute;
  top: 15px;
  left: 24px;
  opacity: 0.5;
  font-family: var(--title-16px-regular-font-family);
  font-weight: var(--title-16px-regular-font-weight);
  color: var(--text-2);
  font-size: var(--title-16px-regular-font-size);
  letter-spacing: var(--title-16px-regular-letter-spacing);
  line-height: var(--title-16px-regular-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-regular-font-style);
}

.cart .view-all-products-wrapper {
  all: unset;
  box-sizing: border-box;
  position: relative;
  flex: 0 0 auto;
  background-color: var(--button-2);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 48px;
  border-radius: 4px;
}

.cart .view-all-products-2 {
  position: relative;
  width: fit-content;
  margin-top: -1.00px;
  font-family: var(--title-16px-medium-font-family);
  font-weight: var(--title-16px-medium-font-weight);
  color: var(--text);
  font-size: var(--title-16px-medium-font-size);
  letter-spacing: var(--title-16px-medium-letter-spacing);
  line-height: var(--title-16px-medium-line-height);
  white-space: nowrap;
  font-style: var(--title-16px-medium-font-style);
}

.cart .frame-10 {
  position: relative;
  width: 470px;
  height: 324px;
  left: -125px;
  border-radius: 4px;
  overflow: hidden;
  border: 1.5px solid;
  border-color: #000000;
}

.cart .text-wrapper-4 {
  position: absolute;
  top: 30px;
  left: 24px;
  font-family: var(--title-20px-medium-font-family);
  font-weight: var(--title-20px-medium-font-weight);
  color: var(--text-2);
  font-size: var(--title-20px-medium-font-size);
  letter-spacing: var(--title-20px-medium-letter-spacing);
  line-height: var(--title-20px-medium-line-height);
  white-space: nowrap;
  font-style: var(--title-20px-medium-font-style);
}

.cart .frame-11 {
  display: inline-flex;
  align-items: flex-start;
  gap: 307px;
  position: absolute;
  top: 84px;
  left: 24px;
  background-color: #ffffff;
}

.cart .frame-12 {
  display: inline-flex;
  align-items: flex-start;
  gap: 314px;
  position: absolute;
  top: 140px;
  left: 24px;
}

.cart .frame-13 {
  display: inline-flex;
  align-items: flex-start;
  gap: 335px;
  position: absolute;
  top: 196px;
  left: 24px;
}

.cart .button-2 {
  all: unset;
  box-sizing: border-box;
  position: absolute;
  top: 236px;
  left: 89px;
  background-color: var(--button-2);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 48px;
  border-radius: 4px;
}

.cart .under-line {
  position: absolute;
  width: 422px;
  height: 1px;
  top: 123px;
  left: 24px;
  opacity: 0.4;
  background-image: url(./img/line-1.svg);
  background-size: cover;
  background-position: 50% 50%;
}

.cart .under-line-2 {
  position: absolute;
  width: 422px;
  height: 1px;
  top: 179px;
  left: 24px;
  opacity: 0.4;
  background-image: url(./img/image.svg);
  background-size: cover;
  background-position: 50% 50%;
}


.arrow {
  border: solid #fff8f866;
  border-width: 0 3px 3px 0;
  display: inline-block;
  padding: 3px;
}

.up {
  transform: rotate(-135deg);
  -webkit-transform: rotate(-135deg);
}

.down {
  transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
}


counter-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-top: 50px;
      font-family: Arial, sans-serif;
      font-size: 24px;
    }

    /* Styling angka */
    .counter-number {
      position: relative;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
      left: -15px;
      top: 5px;
    }

    /* Styling tombol panah */
    .arrow-buttons {
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 5px;
    }

    .arrow-buttons button {
      position: relative;
      width: 30px;
      height: 15px;
      top: -25px;
      left: 25px;
      background-color: #ffffff;
      border: 1px solid #ffffff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    /* Hover efek */
    .arrow-buttons button:hover {
      background-color: #e0e0e0;
    }

        </style>
		
		<div class="cart">
      <div class="frame-wrapper">
        <div class="frame">
          <div class="div">
            <div class="frame-2">
              <div class="cart-main-section">
                <div class="frame-3">
                  <div class="text-wrapper">Product</div>
                  <div class="text-wrapper">Price</div>
                  <div class="text-wrapper">Quantity</div>
                  <div class="text-wrapper">Subtotal</div>
                </div>
              </div>
              <div id="item-list" class="cart-section">
          <script>
                // Seleksi elemen dengan ID "item-list"
        const itemList = document.getElementById('item-list');
        const userData = JSON.parse(localStorage.getItem('userData'));
        // ID user yang akan dikirimkan
        const test = 'cart-'.concat(userData.account_id);
        
        var total = 0;
        
        async function addCart() {
    try {
        const response = await fetch("http://localhost:3000/api/user/Add_Cart", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(requestData),
        });

        if (response.ok) {
            const result = await response.json();
            console.log("Response:", result);

            // Panggil ulang fungsi fetchCartData untuk memperbarui UI
            await fetchCartData();

            // Hapus query string dari URL untuk mencegah reload terus-menerus
            const url = new URL(window.location.href);
            url.search = "";
            window.history.pushState({}, "", url);

            console.log("URL setelah query string dihapus:", url.href);
        } else {
            console.error("Error:", response.status, await response.json());
        }
    } catch (error) {
        console.error("Fetch Error:", error);
    }
}


//         async function fetchCartData() {
//     try {
//         const userData = JSON.parse(localStorage.getItem('userData'));
//         const response = await fetch('http://localhost:3000/api/user/Cart', {
//             method: 'POST',
//             headers: {
//                 'Content-Type': 'application/json',
//             },
//             body: JSON.stringify({ id_user:test }),
//         });
//         // console.log(response);
//         if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
//         const data = await response.json();

//         renderCartItems(data.data);
//         localStorage.setItem("Total", JSON.stringify(total));

//     } catch (error) {
//         console.error('Gagal mengambil data:', error);
//     }
// }

// function renderCartItems(items) {
//     itemList.innerHTML = ''; // Pastikan itemList ada
//     const checkoutButton = document.getElementById('checkoutButton');
//     if (items.length === 0) {
//         itemList.innerHTML = '<p>Keranjang kosong</p>';
//         localStorage.removeItem('Total');
//         // Nonaktifkan tombol checkout
//         if (checkoutButton) {
//             checkoutButton.classList.add('disabled');
//             checkoutButton.setAttribute('disabled', 'true');
//         }
//         return;
//     } else {
//         if (checkoutButton) {
//             checkoutButton.classList.remove('disabled');
//             checkoutButton.removeAttribute('disabled');
//         }
//         items.forEach(item => {
//             const itemDiv = document.createElement('div');
//             itemDiv.classList.add('cart-item');
//             total = total + (1*item.harga);
//             itemDiv.innerHTML = `
//                 <input type="radio" name="selectedItem" value="${item.id_produk}">
//                 <div class="element">${item.harga / item.kuantitas}</div>
//                 <div class="element-2">${item.harga}</div>
//                 <div class="quantity">
//                     <div class="counter-container">
//                         <div id="counter" class="counter-number">${item.kuantitas}</div>
//                         <div class="arrow-buttons">
//                             <button id="arrowUp">▲</button>
//                             <button id="arrowDown">▼</button>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="LCD-monitor"></div>
//             `;
//             itemList.appendChild(itemDiv);
//         });
//     }
//     return total;
// }

function renderCartItems(items) {
    itemList.innerHTML = ''; // Bersihkan elemen item-list
    if (items.length === 0) {
        itemList.innerHTML = '<p>Keranjang kosong</p>';
        return;
    }

    items.forEach(item => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('cart-item');
        itemDiv.innerHTML = `
            <input type="radio" name="selectedItem" value="${item.id_produk}">
            <div class="element">${item.harga / item.kuantitas}</div>
            <div class="element-2">${item.harga}</div>
            <div class="quantity">
                <div class="counter-container">
                    <div id="counter" class="counter-number">${item.kuantitas}</div>
                    <div class="arrow-buttons">
                        <button id="arrowUp">▲</button>
                        <button id="arrowDown">▼</button>
                    </div>
                </div>
            </div>
            <div class="LCD-monitor"></div>
        `;
        itemList.appendChild(itemDiv);
    });
}



fetchCartData();


              </script>
              </div>
<!-- <script>
  // Ambil elemen angka dan tombol
  const counterElement = document.getElementById("counter");
  const arrowUpButton = document.getElementById("arrowUp");
  const arrowDownButton = document.getElementById("arrowDown");

  // Fungsi untuk menaikkan angka
  function increaseCounter() {
    let currentValue = parseInt(counterElement.textContent, 10);
    counterElement.textContent = padNumber(currentValue + 1);
  }

  // Fungsi untuk menurunkan angka
  function decreaseCounter() {
    let currentValue = parseInt(counterElement.textContent, 10);
    counterElement.textContent = padNumber(currentValue - 1);
  }

  // Fungsi untuk menambahkan angka 0 di depan jika kurang dari 10
  function padNumber(number) {
    return number < 10 && number >= 0 ? "0" + number : number;
  }

  // Event listener untuk tombol Arrow Up
  arrowUpButton.addEventListener("click", increaseCounter);

  // Event listener untuk tombol Arrow Down
  arrowDownButton.addEventListener("click", decreaseCounter);
</script> -->
            </div>
            
          </div>
          
            <div class="frame-10" style="margin-left: 70%;">
              <div class="text-wrapper-4">Cart Total</div>
              <div class="frame-11">
                <div class="text-wrapper">Subtotal:</div>
                <div class="text-wrapper">
                  <script>
                    const Total = JSON.parse(localStorage.getItem('Total'));
                    if (total != null ) {
                      document.write(`<p>${Total}</p>`);                      
                    }
                  </script>
                </div>
              </div>
              <div class="frame-12">
                <div class="text-wrapper">Delivery:</div>
                <div class="text-wrapper">Free</div>
              </div>
              <div class="frame-13">
                <div class="text-wrapper">Total:</div>
                <div class="text-wrapper">
                <script>
                if (total != null ) {
                  document.write(`<p>${Total}</p>`);                      
                }
                </script>
                </div>
              </div>
              <div class="frame-88">
                <div class="btn" id="checkoutButton">
                    <div class="view-all-products">Process to Checkout</div>
                </div>
              </div>            
              <div class="under-line"></div>
              <div class="under-line-2"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
      <!-- <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/7b598272b7288a74ae0633651d1a14af7789d525afaa6fe73b735ec19f6f5af0?placeholderIfAbsent=true&apiKey=9cc25023445246c0af8d122edc4ce5c3" alt="" class="footer-image" /> -->
		
		<my-footer></my-footer>

    <script>
      
      // document.addEventListener('DOMContentLoaded', function () {
      //   const checkoutButton = document.getElementById('checkoutButton');
      //   if (checkoutButton) {
      //       checkoutButton.addEventListener('click', function () {
      //           // Redirect ke halaman checkout
      //           alert('CheckOut');

      //       });
      //   } else {
      //       console.error('Button not found!');
      //   }
      // });  
  
//       document.addEventListener('DOMContentLoaded', function () {
//     const checkoutButton = document.getElementById('checkoutButton');
//     if (checkoutButton) {
//         checkoutButton.addEventListener('click', async function () {
//             try {
//                 const response = await fetch('http://localhost:3000/api/user/Transaksi', {
//                     method: 'POST',
//                     headers: {
//                         'Content-Type': 'application/json',
//                     },
//                     body: JSON.stringify({
//                         id_user: userData, // Ganti dengan ID user yang sesuai
//                     }),
//                 });

//                 const result = await response.json();
//                 if (response.ok) {
//                     alert('Transaksi berhasil dimulai!');
//                     window.location.href = 'Check Out.html';
//                     console.log('Response data:', result);
//                 } else {
//                     console.error('Error response:', result.msg);
//                     alert('Gagal memulai transaksi! ' + (result.msg || ''));
//                 }
//             } catch (error) {
//                 console.error('Error:', error);
//                 alert('Terjadi kesalahan saat memulai transaksi.');
//             }
//         });
//     } else {
//         console.error('Button checkout tidak ditemukan!');
//     }
// });

document.addEventListener('DOMContentLoaded', function () {
    const checkoutButton = document.getElementById('checkoutButton');
    const itemList = document.getElementById('item-list'); // Elemen yang menampung item keranjang

        // Tambahkan event listener hanya jika tombol aktif
        checkoutButton.addEventListener('click', async function () {
            try {
                const userData = JSON.parse(localStorage.getItem('userData'));
                const response = await fetch('http://localhost:3000/api/user/Transaksi', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        id_user: userData.account_id, // ID user dari localStorage
                    }),
                });

                const result = await response.json();
                if (response.ok) {
                    alert('Transaksi berhasil dimulai!');
                    window.location.href = 'Check Out.html';
                    console.log('Response data:', result);
                } else {
                    console.error('Error response:', result.msg);
                    alert('Gagal memulai transaksi! ' + (result.msg || ''));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat memulai transaksi.');
            }
        });
});


    </script>
		

		<!-- header footer JS -->
		 <script src="js/headerfooterLogin.js"></script>
		<!-- jquery Min JS -->
        <script src="js/jquery.min.js"></script>
		<!-- jquery Migrate JS -->
		<script src="js/jquery-migrate-3.0.0.js"></script>
		<!-- jquery Ui JS -->
		<script src="js/jquery-ui.min.js"></script>
		<!-- Easing JS -->
        <script src="js/easing.js"></script>
		<!-- Color JS -->
		<script src="js/colors.js"></script>
		<!-- Popper JS -->
		<script src="js/popper.min.js"></script>
		<!-- Bootstrap Datepicker JS -->
		<script src="js/bootstrap-datepicker.js"></script>
		<!-- Jquery Nav JS -->
        <script src="js/jquery.nav.js"></script>
		<!-- Slicknav JS -->
		<script src="js/slicknav.min.js"></script>
		<!-- ScrollUp JS -->
        <script src="js/jquery.scrollUp.min.js"></script>
		<!-- Niceselect JS -->
		<script src="js/niceselect.js"></script>
		<!-- Tilt Jquery JS -->
		<script src="js/tilt.jquery.min.js"></script>
		<!-- Owl Carousel JS -->
        <script src="js/owl-carousel.js"></script>
		<!-- counterup JS -->
		<script src="js/jquery.counterup.min.js"></script>
		<!-- Steller JS -->
		<script src="js/steller.js"></script>
		<!-- Wow JS -->
		<script src="js/wow.min.js"></script>
		<!-- Magnific Popup JS -->
		<script src="js/jquery.magnific-popup.min.js"></script>
		<!-- Counter Up CDN JS -->
		<script src="http://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
		<!-- Bootstrap JS -->
		<script src="js/bootstrap.min.js"></script>
		<!-- Main JS -->
		<script src="js/main.js"></script>
    </body>
</html>